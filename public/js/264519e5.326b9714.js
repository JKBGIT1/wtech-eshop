(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["264519e5"],{"38fb":function(t,e,n){},"67b1":function(t,e,n){"use strict";var a=n("38fb"),o=n.n(a);o.a},e981:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-my-xl"},[n("q-table",{attrs:{data:t.serverData,"row-key":"name",pagination:t.serverPagination,loading:t.loading,columns:t.columns,title:"Zoznam produktov","binary-state-sort":""},on:{"update:pagination":function(e){t.serverPagination=e},request:t.request},scopedSlots:t._u([{key:"body",fn:function(e){return n("q-tr",{attrs:{props:e}},[n("q-td",{key:"id",attrs:{props:e}},[n("span",[t._v(t._s(e.row.id))])]),n("q-td",{key:"name",attrs:{props:e}},[n("span",[t._v(t._s(e.row.name))])]),n("q-td",{staticClass:"text-right"},["DELETED"===e.row.id?n("div",[t._v("DELETED")]):n("div",[n("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",icon:"edit"},on:{click:function(n){t.$router.push("/products/"+e.row.id+"/edit")}}}),n("q-btn",{attrs:{round:"",icon:"delete"},on:{click:function(n){t.destroy(e.row.id,e.row.name,e.row.__index)}}})],1)])],1)}}])})],1)},o=[];a._withStripped=!0;var r=n("bc3a"),i=n.n(r),s={data:function(){return{columns:[{name:"id",label:"ID",field:"id",sortable:!1,align:"left"},{name:"name",label:"Name",field:"name",sortable:!0,align:"left"},{name:"actions",label:"Actions",sortable:!1,align:"right"}],serverPagination:{page:1,rowsNumber:10,rowsPerPage:5,sortBy:"name",descending:!0},loading:!1,serverData:[],selected:[]}},methods:{request:function(t){var e=this,n=t.pagination;this.loading=!0,i.a.get("http://127.0.0.1:8000/products/list/".concat(n.page,"?rowsPerPage=").concat(n.rowsPerPage,"&sortBy=").concat(n.sortBy,"&descending=").concat(n.descending)).then(function(t){var a=t.data;e.serverPagination=n,e.serverPagination.rowsNumber=a.rowsNumber,e.serverData=a.rows,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},destroy:function(t,e,n){var a=this;this.$q.dialog({title:"Delete",message:"Ste si istý, že chcete vymazať ".concat(e,"?"),color:"primary",ok:!0,cancel:!0}).then(function(){i.a.delete("http://127.0.0.1:8000/products/".concat(t)).then(function(){a.serverData[n].id="DELETED",a.$q.notify({type:"positive",timeout:2e3,message:"Produkt bol úspešne vymazaný."});for(var t=[],e=0;e<a.serverData.length;e+=1)a.serverData[e].id!==a.serverData[n].id&&t.push(a.serverData[e]);a.serverData=t}).catch(function(t){a.$q.notify({type:"negative",timeout:2e3,message:"Vyskytol sa problém."}),console.log(t)})}).catch(function(){})}},mounted:function(){this.request({pagination:this.serverPagination,filter:this.filter})}},c=s,l=(n("67b1"),n("2877")),d=Object(l["a"])(c,a,o,!1,null,"627f26d8",null);d.options.__file="Index.vue";e["default"]=d.exports}}]);